<!DOCTYPE html>
<html>
	<head>
	</head>

	<script>
		function toonAlleOefeningen(){
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function(){
				if(this.readyState == 4){
					var rijtjeOefeningen = JSON.parse(this.responseText);
					console.log(rijtjeOefeningen);
					var eindtekst = "<table>";
					for(var x = 0; x<rijtjeOefeningen.length;x++){
						eindtekst += "<tr><td>" + rijtjeOefeningen[x].uitleg + 
								 "</td><td>" + rijtjeOefeningen[x].naam + "</td></tr>";  
					}
					eindtekst += "</table>";
					document.getElementById("uitkomstOefening").innerHTML = eindtekst;
				}
			};

			xhr.open("GET", "http://localhost:8082/allOefeningen",true);
			xhr.send();
		}
		function toonOefening(i){
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function(){
				if(this.readyState == 4){
					var rijtjeOefeningen = JSON.parse(this.responseText);
					console.log(rijtjeOefeningen);
					var naam = "<h1>" + rijtjeOefeningen[i].naam + "</h1>" ;
					var breakie = "<br>";
					var uitleg = "<p>" + rijtjeOefeningen[i].uitleg + "</p>";
					document.getElementById("uitkomstOefening").innerHTML = naam + breakie + uitleg;
				}
			};

			xhr.open("GET", "http://localhost:8082/allOefeningen",true);
			xhr.send();

		}
		function verstuurOefening(){
			var naam = document.getElementById("ipnaam").value;
			var uitleg = document.getElementById("ipuitleg").value;

			var hetObject = {};
			hetObject.naam = naam;
			hetObject.uitleg = uitleg;
			var objJSON = JSON.stringify(hetObject);
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if(this.readyState == 4) {
					alert(hetObject.naam + " is opgeslagen");
					
				}
			};
			xhr.open("POST", "http://localhost:8082/vulOefeningen", true);
			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.send(objJSON);
		}

	</script>

	<body>
		naam: <input type=text id=ipnaam>
		uitleg: <input type=text id=ipuitleg>
		<input type="button" value="Maak aan" onclick="verstuurOefening()">

		<br>
		<br>

		<input type=button value="toon deadlift" onclick="toonOefening(0)">
		<input type=button value="toon squats" onclick="toonOefening(1)">
		<input type=button value="toon barble row" onclick="toonOefening(2)">
		<input type=button value="toon shoulder press" onclick="toonOefening(3)">
		<input type=button value="toon bench press" onclick="toonOefening(4)">

		<div id="uitkomstOefening"></div>
	</body>

</html>